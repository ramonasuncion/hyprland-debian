#!/bin/bash

pacman -Syu

i_dont_need_those=(
    "/usr/share/applications/lstopo.desktop"
    "/usr/share/applications/electron37.desktop"
    "/usr/share/applications/thunar-settings.desktop"
    "/usr/share/applications/thunar-bulk-rename.desktop"
    "/usr/share/applications/qt6ct.desktop"
    "/usr/share/applications/assistant.desktop"
    "/usr/share/applications/qdbusviewer.desktop"
    "/usr/share/applications/linguist.desktop"
    "/usr/share/applications/designer.desktop"
)

for path in "${i_dont_need_those[@]}"; do
    if [[ -e "$path" ]]; then
        rm -rf "$path"
        echo "Removed trash: $path"
    fi
done


orphaned_packages=$(pacman -Qdtq)

if [[ -n "$orphaned_packages" ]]; then
    echo "Removing orphaned packages..."
    pacman -Rns $orphaned_packages
fi
