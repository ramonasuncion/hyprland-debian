#!/bin/bash

FILE=$XDG_PICTURES_DIR/screenshots/"$(date +"%Y-%m-%d_%H-%M-%S").png"

if [[ "$1" == "--select" ]]; then
    flameshot gui --path $FILE
    STATUS=$?
else
    grim $FILE
    STATUS=$?
fi

if [[ $STATUS -eq 0 ]]; then
    wl-copy < $FILE &

    notify-send --app-name $0 --icon applets-screenshooter \
                "New screenshot" "$FILE"
fi
