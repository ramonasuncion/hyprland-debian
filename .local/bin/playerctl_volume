#!/bin/bash

playerctl volume $1

# Check if the command was successful
if [ $? -eq 0 ]; then
    icon=$(playerctl -l | head -n 1 | cut -d '.' -f 1)
    volume=$(playerctl volume)
    volume_int=$(printf "%.0f" "$(echo "$volume * 100" | bc)")

    notify-send --app-name $0 --icon $icon \
                "Current volume is: $volume_int%" \
                -h "string:x-canonical-private-synchronous:$0"
fi